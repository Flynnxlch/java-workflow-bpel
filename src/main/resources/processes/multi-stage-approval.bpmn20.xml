<?xml version="1.0" encoding="UTF-8"?>
<bpmn2:definitions xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:flowable="http://flowable.org/bpmn" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="multi-stage-approval" targetNamespace="http://flowable.org/bpmn" exporter="Flowable Open Source Modeler" exporterVersion="6.8.0">
  <bpmn2:process id="multi-stage-approval" name="Multi-Stage Approval Process" isExecutable="true">
    <bpmn2:startEvent id="startEvent" name="Start"/>
    <bpmn2:userTask id="initialReview" name="Initial Review" flowable:assignee="${reviewer1}">
      <bpmn2:documentation>Initial review of the document</bpmn2:documentation>
    </bpmn2:userTask>
    <bpmn2:userTask id="managerApproval" name="Manager Approval" flowable:assignee="${manager}">
      <bpmn2:documentation>Manager approval required</bpmn2:documentation>
    </bpmn2:userTask>
    <bpmn2:userTask id="finalApproval" name="Final Approval" flowable:assignee="${approver}">
      <bpmn2:documentation>Final approval from authorized person</bpmn2:documentation>
    </bpmn2:userTask>
    <bpmn2:serviceTask id="notifyCompletion" name="Notify Completion" flowable:class="com.rpl.bpm.service.NotificationServiceTask">
      <bpmn2:documentation>Send notification when process is completed</bpmn2:documentation>
    </bpmn2:serviceTask>
    <bpmn2:endEvent id="endEvent" name="End"/>
    <bpmn2:sequenceFlow id="flow1" sourceRef="startEvent" targetRef="initialReview"/>
    <bpmn2:sequenceFlow id="flow2" sourceRef="initialReview" targetRef="managerApproval"/>
    <bpmn2:sequenceFlow id="flow3" sourceRef="managerApproval" targetRef="finalApproval"/>
    <bpmn2:sequenceFlow id="flow4" sourceRef="finalApproval" targetRef="notifyCompletion"/>
    <bpmn2:sequenceFlow id="flow5" sourceRef="notifyCompletion" targetRef="endEvent"/>
  </bpmn2:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_multi-stage-approval">
    <bpmndi:BPMNPlane id="BPMNPlane_multi-stage-approval" bpmnElement="multi-stage-approval">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="startEvent">
        <dc:Bounds x="100" y="100" width="36" height="36"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_UserTask_2" bpmnElement="initialReview">
        <dc:Bounds x="200" y="78" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_UserTask_3" bpmnElement="managerApproval">
        <dc:Bounds x="350" y="78" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_UserTask_4" bpmnElement="finalApproval">
        <dc:Bounds x="500" y="78" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_ServiceTask_2" bpmnElement="notifyCompletion">
        <dc:Bounds x="650" y="78" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_EndEvent_2" bpmnElement="endEvent">
        <dc:Bounds x="812" y="100" width="36" height="36"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_flow1" bpmnElement="flow1" flowable:sourceDockerX="18.0" flowable:sourceDockerY="18.0" flowable:targetDockerX="50.0" flowable:targetDockerY="40.0">
        <di:waypoint x="136" y="118"/>
        <di:waypoint x="200" y="118"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_flow2" bpmnElement="flow2" flowable:sourceDockerX="50.0" flowable:sourceDockerY="40.0" flowable:targetDockerX="50.0" flowable:targetDockerY="40.0">
        <di:waypoint x="300" y="118"/>
        <di:waypoint x="350" y="118"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_flow3" bpmnElement="flow3" flowable:sourceDockerX="50.0" flowable:sourceDockerY="40.0" flowable:targetDockerX="50.0" flowable:targetDockerY="40.0">
        <di:waypoint x="450" y="118"/>
        <di:waypoint x="500" y="118"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_flow4" bpmnElement="flow4" flowable:sourceDockerX="50.0" flowable:sourceDockerY="40.0" flowable:targetDockerX="50.0" flowable:targetDockerY="40.0">
        <di:waypoint x="600" y="118"/>
        <di:waypoint x="650" y="118"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_flow5" bpmnElement="flow5" flowable:sourceDockerX="50.0" flowable:sourceDockerY="40.0" flowable:targetDockerX="18.0" flowable:targetDockerY="18.0">
        <di:waypoint x="750" y="118"/>
        <di:waypoint x="812" y="118"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn2:definitions>
